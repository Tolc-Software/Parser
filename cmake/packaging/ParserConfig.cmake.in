include(CMakeFindDependencyMacro)
find_dependency(IR)

include("${CMAKE_CURRENT_LIST_DIR}/LLVMUtilities.cmake")
# Download if necessary and get the clang libs Defines
# llvm_entry_{SOURCE_DIR,INCLUDE_DIR} variables
setup_llvm(NAME "LLVM_ENTRY" VERSION @llvm_entry_version@)

# Macro to get downloaded Clang and llvm packages
get_clang_and_llvm(PATH ${llvm_entry_SOURCE_DIR})

include("${CMAKE_CURRENT_LIST_DIR}/ConanHelpers.cmake")
set(packages @CONAN_REQUIRES_PACKAGES@)
run_conan(REQUIRES ${packages})

# Get the paths for the find_package modules
include(${CMAKE_CURRENT_BINARY_DIR}/conan_paths.cmake)

foreach(package ${packages})
  # Get the package name from the conan dependency
  string(REPLACE "/" ";" split_dep ${package})
  list(GET split_dep 0 package_name)

  # Uses Find${package_name} module that was generated by conan
  find_package(${package_name} REQUIRED)
endforeach()

include("${CMAKE_CURRENT_LIST_DIR}/ParserTargets.cmake")
